syntax = "proto3";

package noctiforge.action;

option go_package = "github.com/Ow1Dev/noctiforge/pkg/api/server;server"; 

service FunctionRunnerService { 
  rpc Invoke(InvokeRequest) returns (InvokeResult);
} 

message InvokeRequest { 
  // Raw input payload (JSON, protobuf, bytes â€” defined by the function) 
  bytes payload = 2; 

  // Opaque metadata propagated to the function (trace IDs, auth, etc.) 
  map<string, string> metadata = 4;
} 

message InvokeResult {
  oneof result { 
    Success success = 1;
    Problem problem = 2;
  }
} 

message Success { 
  // Raw function output 
  bytes output = 1;
} 

message Problem {
  string type = 1;                       // default: "about:blank"
  string detail = 2;                     // specific explanation
}

